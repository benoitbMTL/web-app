<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<title>Bank Application</title>
	<!-- Bootstrap -->
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
	<link rel="stylesheet" type="text/css" href="style.css">
</head>



<body class="bg-light">
	<div class="container">
		<div class="py-5 text-center">
			<h2>Bank Application</h2>
			<p class="lead">Sign up for your new bank account.</p>

			<div class="custom-control custom-switch text-center mb-4">
				<input type="checkbox" class="custom-control-input" id="validationToggleSwitch">
				<label class="custom-control-label" for="validationToggleSwitch" id="toggleLabel"
					style="color: red;">Form Validation Off</label>
			</div>
		</div>
	</div>

	<!-- Center the form -->
	<div class="row justify-content-center">
		<div class="col-md-8 max-width-container">
			<form id="bankForm" class="needs-validation" novalidate>
				<div class="row">
					<div class="col-md-6 mb-3">
						<label for="firstName">First name</label>
						<input type="text" class="form-control" id="firstName" placeholder="" value="" required>
						<div class="invalid-feedback">
							Valid first name is required.
						</div>
					</div>
					<div class="col-md-6 mb-3">
						<label for="lastName">Last name</label>
						<input type="text" class="form-control" id="lastName" placeholder="" value="" required>
						<div class="invalid-feedback">
							Valid last name is required.
						</div>
					</div>
				</div>

				<!-- Add email field -->
				<div class="mb-3">
					<label for="email">Email</label>
					<input type="email" class="form-control" id="email" placeholder="you@example.com" required>
					<div class="invalid-feedback">
						Please enter a valid email address.
					</div>
				</div>

				<!-- Add phone number field -->
				<div class="mb-3">
					<label for="phone">Phone Number</label>
					<input type="tel" class="form-control" id="phone" placeholder="+5141234567" pattern="\+?\d{10,13}"
						required>
					<div class="invalid-feedback">
						Please enter a valid phone number.
					</div>
				</div>

				<hr class="mb-4">
				<button class="btn btn-primary btn-lg btn-block" type="submit">Submit</button>
				<!-- Confirmation message container -->
				<div id="confirmationMessage" class="alert alert-success mt-3" style="display:none;">
					Form submitted successfully!
				</div>
			</form>
		</div>
	</div>

	<footer class="my-5 pt-5 text-muted text-center text-small">
		<p class="mb-1">&copy; 2024 Fortinet Demo</p>
	</footer>
	</div>

	<!-- Include Bootstrap JS and dependencies -->
	<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>



<script>
(function () {
    'use strict';
    window.addEventListener('load', function () {
        var form = document.getElementById('bankForm');
        var confirmationMessage = document.getElementById('confirmationMessage');
        var validationToggleSwitch = document.getElementById('validationToggleSwitch');
        var toggleLabel = document.getElementById('toggleLabel');

        // Toggle form validation on or off
        validationToggleSwitch.addEventListener('change', function () {
            if (this.checked) {
                toggleLabel.textContent = 'Form Validation On';
                toggleLabel.style.color = 'green';
                form.classList.add('needs-validation');
                form.noValidate = false; // Enable HTML5 validation
            } else {
                toggleLabel.textContent = 'Form Validation Off';
                toggleLabel.style.color = 'red';
                form.classList.remove('needs-validation');
                form.noValidate = true; // Disable HTML5 validation
            }
        });

        // Handle form submission
        form.addEventListener('submit', function (event) {
            event.preventDefault();

            // Check form validity if validation is enabled
            if (validationToggleSwitch.checked && !form.checkValidity()) {
                event.stopPropagation();
                form.classList.add('was-validated');
            } else {
                // Prepare and send POST request
                var formData = new FormData(form);
                fetch('/bank.html', {
                    method: 'POST',
                    body: formData
                })
                .then(response => {
                    if (response.ok) {
                        return response.text(); // or response.json() if response is in JSON format
                    }
                    throw new Error('Network response was not ok.');
                })
                .then(data => {
                    console.log('Success:', data);
                    confirmationMessage.style.display = 'block';
                    confirmationMessage.textContent = 'Form submitted successfully!';
                })
                .catch(error => {
                    console.error('Error:', error);
                });
            }
        });
    }, false);
})();
</script>




</body>

</html>